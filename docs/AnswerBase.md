Информация
------------

* Документ поддерживается в версиях(ии): 0.2.1-alpha2;
* [Главная страница][0].

Как формируется ответ
------------

Ответ пользователю на сообщение создается после того, как система удостовериться что пользователь не ввел команду, или не обучает систему новому ответу.

Далее, запускается алгоритм поиска ответа в базе данных (`base.bin`), основанный на PHP Функции сравнения строк `similar_text()`.
В ходе работы алгоритма, каждая строка в базе данных сравнивается с введенной пользователем, и в результате, выдает процент схожести этих строк. 

В качестве минимального порога, по которому ответ считается “удовлетворительным” и может участвовать в ответе пользователя, является строка ` MIN_PERCENT` в пользовательских настройках.

Во время работы алгоритма, появляются ответы с наибольшим процентом схожести, и этот процент становиться минимальным порогом, чтобы из всех последующих ответов выбрать наиболее подходящий.

После того, как алгоритм находит ответ, он отправляет его пользователю, предварительно [заменив ключевые слова на значения][1].

Если ответ не найден, система подключает к процессу базу ответов, собранных с пользователей благодаря системе обучения (`UserMessages.json`), и процедура поиска ответа повторяется. 
Если ответ не будет найден, при активированной функции обучения (настаивается в пользовательских настройках), пользователю будет предложено самостоятельно ответить на свой вопрос.

[0]: index.md
[1]: keyWord.md